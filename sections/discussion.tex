\section{Discussion}
\label{sec:discuss}

We create counterfactuals through \emph{task-agnostic} generation, and \emph{task-specific} selection.
As a result, all applications have access to the same pool of counterfactuals generated by \sysname, which are fluent, diverse, and close to the original sentence.
With additional selection methods, \sysname supports various downstream tasks, including counterfactual data augmentation, contrast set generation, counterfactual explanation and error analysis.

Though useful, \sysname inherits some most salient contrasts pairs from existing paired datasets.
For example, it is more likely to change \remove{man} to \add{woman} than \add{child}.
To further improve vocabulary diversity, we encourage the field to define more rigorous methods for \emph{finding naturally occurring sentence pairs in non-paired dataset}.
We relied on heuristics on text overlaps, but syntactic tree editing or knowledge graph distances may be promising.

Overall, the applications highlight the importance of using \sysname to support humans.
Whereas \sysname still generates 20--30\% invalid counterfactuals and therefore should not \emph{replace} the humans, it noticeably up the generation beyond human rewrites or simple paragraphsing. 
As a result, \sysname helps more effectively allocate human efforts to the \emph{verification, labeling, and analyses on the counterfactual instances.}
We believe the human-model team is a promising framework for future work, which may involve designing control codes that better suit humans needs (\eg for error analysis hypothesis testing), implementing collaborative frameworks where the human and the model complement each others' generations, etc.
%A particular interesting direction may be \emph{human-in-the-loop counterfactual generation}, where humans supply missing perturbation patterns after seeing \sysname's generations.

We plan to opensource both the \sysname model and the implementation of the selection methods.




\begin{comment}
%In tasks that require context-dependent generations --- difficult for the sentence-based model alone --- human annotators can also initiate seed counterfactuals for \sysname to extend.
%For example, to perturb question answering instances~\cite{gardner2020contrast}, the human can add the compositional reasoning steps \emph{related to} the corresponding paragraph for \sysname to perturb around.

\emph{More balanced sentence pairs and sampling.}
\sysname inherits some most most salient contrasts pairs from existing paired datasets.
For example, it is more likely to change \remove{man} to \add{woman} than \add{child}.
To further improve vocabulary diversity, we can emphasize more on \emph{finding naturally occurring sentence pairs in non-paired dataset}.
We used heuristics on text overlaps to broaden some \tagstrs, but methods like syntactic tree editing or knowledge graph distances can also be useful.



We plan to opensource both the \sysname model and the implementation of the selection methods.




\emph{Supporting existing counterfactual reasoning tools.}
Besides independent use cases, \sysname may also be plugged into existing tools that involve counterfactual generation.
%featurizing counterfactuals into Snorkel labeling functions~\cite{ratner2017snorkel} helps collect the training and evaluation data more efficiently (similar to \S\ref{subsec:global_exp}).
For example, domain experts can create perturbation tests more easily if \sysname serves as an additional building block for model testing~\cite{checklist:acl20}.
Or, they may translate $\relation{\xp}$ into labeling functions for data programming~\cite{ratner2017snorkel}.


\emph{Human-in-the-loop counterfactual generation.}
Humans can add more values than placing blanks and labeling counterfactuals, \eg supply missing perturbation patterns after seeing \sysname's generations.
In tasks that require context-dependent generations --- difficult for the sentence-based model alone --- human annotators can also initiate seed counterfactuals for \sysname to extend.
For example, to perturb question answering instances~\cite{gardner2020contrast}, the human can add the compositional reasoning steps \emph{related to} the corresponding paragraph for \sysname to perturb around.
\end{comment}