\section{Discussion and Conclusion}
\label{sec:discuss}

We propose \sysname, an automated method for general-purpose counterfactual generation. 
As a text generation task, \sysname takes in a sentence, as well as (optionally) \tagstrs and blanks as the prompt.
It outputs corresponding counterfactuals, which can be further filtered for different downstream use cases. 
We show that the \sysname can support counterfactual data augmentation, contrast set generation, as well as counterfactual explanation.
Below, we discuss promising future work:

\emph{More balanced sentence pairs and sampling.}
The \sysname model inevitably inherits the training data bias.
For example, its lexical changes are more likely to return \swap{man}{woman} than \swap{man}{child}, or \swap{good}{bad} than \swap{good}{inspiring}.
Further, we observed in \qqp experiments that augmentations can overfit to one pattern while hurting its counterpart. 
Future work should focus on enhancing the vocabulary diversity of the training data pairs, and developing sampling strategies that more equally cover competing patterns.

\emph{Supporting existing counterfactual reasoning tools.}
Besides independent use cases, \sysname can also support existing tools that involve counterfactual generation.
For example, featurizing counterfactuals into Snorkel labeling functions~\cite{ratner2017snorkel} helps collect the training and evaluation data more efficiently (similar to \S\ref{subsec:global_exp}).
Or, domain experts can create perturbation tests more easily if \sysname serves as an additional building block for error analysis~\cite{wu2019errudite} or model testing~\cite{checklist:acl20}.


\emph{Human-in-the-loop Counterfactual Generation.}
Humans can potentially add more values than placing blanks and labeling counterfactuals
For example, human creators can increase the diversity of the covered patterns, if they are asked to come up with more counterfactuals that are different from those covered automatically.
In tasks that require context-dependent counterfactual generations --- a difficult task for the sentence-based model alone --- human annotators can also initiate seed counterfactuals for \sysname to extend.
For example, to perturb multi-hop question answering instances~\cite{gardner2020contrast}, the human can start by adding the compositional reasoning steps \emph{related to} the corresponding paragraph, so the model can further perturb around it.